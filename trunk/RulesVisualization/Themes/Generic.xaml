<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:RulesVisualization"
    xmlns:yasc="clr-namespace:Yasc.Controls;assembly=Yasc">

  <!--  BoardDiagram  -->
  <Style TargetType="{x:Type local:BoardDiagram}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:BoardDiagram}">
          <ControlTemplate.Resources>
            <!--  ShogiCell  -->
            <Style TargetType="{x:Type yasc:ShogiCell}">
              <Setter Property="Template">
                <Setter.Value>
                  <ControlTemplate TargetType="{x:Type yasc:ShogiCell}">
                    <Grid Background="Transparent" >
                      <Rectangle Name="border" Stretch="Fill" SnapsToDevicePixels="True"/>
                      <ContentPresenter Name="PART_Piece"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                      <Trigger Property="IsPossibleMoveTarget" Value="True">
                        <Setter TargetName="border" Property="Fill" Value="LightBlue"/>
                      </Trigger>
                      <Trigger Property="IsMoveSource" Value="True">
                        <Setter TargetName="border" Property="Fill" Value="#FFF8C8FF"/>
                      </Trigger>
                    </ControlTemplate.Triggers>
                  </ControlTemplate>
                </Setter.Value>
              </Setter>
            </Style>
          </ControlTemplate.Resources>
          <yasc:ShogiBoard Board="{TemplateBinding Board}"/>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>
